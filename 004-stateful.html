<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8" />
<title>A Stateful Component</title>
<script src="./react/react.js"></script>
<script src="./react/react-dom.js"></script>
<script src="./react/babel.min.js"></script>
</head>
<body>
<div id="root"></div>

<pre>
NOTE:

1. constructor中的super必须有。
2. constructor构造函数中的props可以获得标记属性。
</pre>


<script type="text/babel">

class Timer extends React.Component {
	
	constructor(props){
		console.log(props);
		super(props);
		this.state = { elapsed: 0 };
	}

	componentDidMount(){

		this.interval = setInterval(() => this.run(), 1000);

	}

	componentWillUnmount(){

		clearInterval(this.interval);

	}

	run(){

		this.setState((prevState) => ({

			elapsed: prevState.elapsed + 1

		}));

		//console.log(this.state.elapsed + +this.props.start);

	}

	render(){
		return <h1>Timer {this.state.elapsed}</h1>
	}
}


ReactDOM.render(
	<Timer start="10" />,
	document.getElementById('root')
);

</script>

</body>
</html>